{% extends 'base.html.twig' %}

{% block title %}Mijn Meldingen
{% include 'navbar.html.twig' %}{% endblock %}

{% block body %}
<h1>Mijn Meldingen</h1>



{# Meldingstabel #}
<table class="table">
  <thead>
  <tr>
    <th scope="col">Melding ID</th>
    <th scope="col">Type Melding</th>
    <th scope="col">Inhoud</th>
    <th scope="col">Datum/Tijd</th>
    <th scope="col">Afbeelding</th>
    <th scope="col">Status</th>
    <th scope="col">Details</th>
  </tr>
  </thead>
  <tbody>
  {% for melding in meldingen %}
  <tr>
    <td>{{ melding.melding_id }}</td>
    <td>{{ melding.categorie.naam }}</td>
    <td>{{ melding.inhoud }}</td>
    <td>{{ melding.datumTijd|date('Y-m-d H:i:s') }}</td>
    <td>
      {% if melding.afbeelding_url %}
      <a href="#" class="image-link">
        <img src="{{ asset('/uploads/afbeeldingen/' ~ melding.afbeelding_url) }}" alt="Afbeelding" style="max-width: 100px;">
      </a>
      {% else %}
      Geen afbeelding beschikbaar
      {% endif %}
    </td>

    <td>
      {% if melding.afgehandeld %}
      Done
      {% else %}
      Not done
      {% endif %}
    </td>
    <td>                    <a href="{{ path('melding_details', {'id': melding.melding_id}) }}" class="btn btn-primary">Details</a>
    </td>
  </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
